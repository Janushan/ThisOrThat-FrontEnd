(this["webpackJsonpsm-website-react"]=this["webpackJsonpsm-website-react"]||[]).push([[0],{112:function(e,t,a){},125:function(e,t,a){e.exports=a.p+"static/media/logo.c9a309ec.jpg"},146:function(e,t,a){e.exports=a(206)},151:function(e,t,a){},171:function(e,t,a){},178:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(12),s=a.n(r),l=(a(151),a(10)),i=a(11),c=a(16),u=a(14),m=a(15),p=(a(97),a(128)),d=a(273),h=a(276),g=a(54),E=a.n(g),f=a(24),b=a(58),v=a(17),C=a.n(v),O=a(275),S=a(257),I=a(247),y=a(251),w=a(55),N=a(283),j=a(255),U=a(254),k=a(280),L=a(260),x=a(259),T=a(258),q=a(64),P=a.n(q),B=a(278),A=a(282),F=a(256),V=(a(171),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={userName:"",email:"",password:"",confirmPassword:"",usernameCheck:[],usernameError:!1,open1:!1,brand:0,errorMessage:"",value:"Personal"},a.change=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.handleChange=function(e){a.setState({value:e.target.value}),"Personal"==e.target.value?a.setState({brand:0}):a.setState({brand:1})},a.handleClose=function(e){console.log(e),1===e?a.setState({open1:!1}):a.setState({open2:!1})},a.onSubmit=function(e){e.preventDefault();var t=/^[0-9a-zA-Z]+$/,n=a.state.password.toLowerCase(),o="";""===a.state.userName||""===a.state.email||""===a.state.password||""===a.state.confirmPassword?o+="You must complete all fields":(a.state.userName.length<5&&(o+="Username must be at least five(5) characters\n"),!1!==t.test(a.state.userName)&&!1!==t.test(a.state.password)||(o+="Username and password fields can only contain alphanumeric characters !\n"),a.state.password.length<7&&(o+="Password must be at least seven(7) characters!\n"),a.state.password!==a.state.confirmPassword&&(o+="Passwords do not match!\n"),0===n.localeCompare(a.state.password)&&(o+="Password must contain an Uppercase character!\n"),!1===/\d/.test(a.state.password)&&(o+="Password must contain a number!\n")),console.log(a.state.brand),""===o&&!1===a.state.usernameError?C.a.post("https://thisorthat-260419.appspot.com/api/signup/email",{name:a.state.userName,email:a.state.email,password:a.state.password,brand_account:a.state.brand}).then((function(e){window.location.href="/login",console.log("success")})):(a.setState({errorMessage:o}),a.setState({open1:!0}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"signupPage"},o.a.createElement(I.a,{className:"signupCard",raised:!0},o.a.createElement("form",{className:"signup"},o.a.createElement(y.a,{title:"Signup"}),o.a.createElement("br",null),o.a.createElement(O.a,{name:"userName",label:"Full-Name",className:"usernamefield",value:this.state.userName,onChange:function(t){return e.change(t)},error:this.state.usernameError,InputProps:{endAdornment:o.a.createElement(U.a,{position:"end"},o.a.createElement(N.a,{title:"Fullname: Must consist of only letters"},o.a.createElement(j.a,{"aria-label":"upload image",component:"span"},o.a.createElement(P.a,null))))}}),o.a.createElement("br",null),o.a.createElement(O.a,{name:"email",label:"Email",value:this.state.email,onChange:function(t){return e.change(t)},type:"email",InputProps:{endAdornment:o.a.createElement(U.a,{position:"end"},o.a.createElement(N.a,{title:"Must me a valid email address"},o.a.createElement(j.a,{"aria-label":"upload image",component:"span"},o.a.createElement(P.a,null))))}}),o.a.createElement("br",null),o.a.createElement(O.a,{name:"password",label:"Password",value:this.state.password,onChange:function(t){return e.change(t)},type:"password",InputProps:{endAdornment:o.a.createElement(U.a,{position:"end"},o.a.createElement(N.a,{title:"Password: At least 7 alphanumeric characters, an\r Uppercase character and a Number"},o.a.createElement(j.a,{"aria-label":"upload image",component:"span"},o.a.createElement(P.a,null))))}}),o.a.createElement("br",null),o.a.createElement(O.a,{name:"confirmPassword",label:"Confirm Password",value:this.state.confirmPassword,onChange:function(t){return e.change(t)},type:"password",className:"requirements",InputProps:{endAdornment:o.a.createElement(U.a,{position:"end"},o.a.createElement(N.a,{title:"Password entered must match the previously entered password"},o.a.createElement(j.a,{"aria-label":"upload image",component:"span"},o.a.createElement(P.a,null))))}}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(A.a,{value:this.state.value,onChange:function(t){return e.handleChange(t)}},o.a.createElement(F.a,{value:"Personal",control:o.a.createElement(B.a,null),label:"Personal"}),o.a.createElement(F.a,{value:"Business",control:o.a.createElement(B.a,null),label:"Business"})),o.a.createElement(S.a,{variant:"contained",color:"primary",onClick:function(t){return e.onSubmit(t)}},"Submit"),o.a.createElement("br",null),o.a.createElement(w.a,{variant:"overline",className:"",color:"textSecondary",gutterBottom:!0},"Already have an Account?\xa0"),o.a.createElement(b.b,{to:"/login"},"Log In")))),o.a.createElement(k.a,{open:this.state.open1,onClose:this.handleClose.bind(this,1)},o.a.createElement(T.a,null,""),o.a.createElement(x.a,null,this.state.errorMessage),o.a.createElement(L.a,null,o.a.createElement(S.a,{onClick:this.handleClose.bind(this,1),color:"primary"},"Close"))))}}]),t}(n.Component)),D=a(261),R=a(79),Q=a.n(R),M=(a(177),a(178),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={email:"",password:"",validated:0,open1:!1,errorMessage:""},a.handleClose=function(e){console.log(e),1===e?a.setState({open1:!1}):a.setState({open2:!1})},a.change=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.onSubmit=function(e){e.preventDefault();var t="";""===a.state.email||""===a.state.password?(t+="You must complete all fields",a.setState({errorMessage:t}),a.setState({open1:!0})):C.a.post("https://thisorthat-260419.appspot.com/api/login/email",{email:a.state.email,password:a.state.password},{withCredentials:!0}).then((function(e){console.log(e),a.setState({validated:e.data}),201===e.status?C()({method:"get",url:"https://thisorthat-260419.appspot.com/api/me",withCredentials:!0}).then((function(e){console.log(e),a.props.changeIsLoggedIn(!0)})):(t+="Invalid Credentials",a.setState({errorMessage:t}),a.setState({open1:!0}),a.setState({password:""}))}))},a.facebookLogin=function(e){e.userID?(a.props.changeIsLoggedIn(!0),console.log("Facebook login was successful!")):console.log("Facebook login was unsucessful!")},a.fbLogin=function(){window.location.href="https://thisorthat-260419.appspot.com/api/login/facebook/init?redirect=http://localhost:3000/feed"},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:"wrapper"},o.a.createElement(I.a,{className:"loginCard",raised:!0},o.a.createElement("form",{className:"login"},o.a.createElement(y.a,{title:"Login"}),o.a.createElement(D.a,{container:!0,direction:"column",alignItems:"center"},o.a.createElement(O.a,{name:"email",label:"Email",variant:"outlined",className:"loginTextField",value:this.state.email,fullWidth:!0,onChange:function(t){return e.change(t)}}),o.a.createElement(O.a,{name:"password",label:"Password",variant:"outlined",value:this.state.password,fullWidth:!0,onChange:function(t){return e.change(t)},type:"password"})),o.a.createElement(D.a,{container:!0,direction:"column",alignItems:"center"},o.a.createElement(D.a,{container:!0,direction:"column",alignItems:"center"},o.a.createElement(S.a,{variant:"contained",color:"primary",className:"loginButtonWrapper",onClick:function(t){return e.onSubmit(t)}},"Login"),o.a.createElement(S.a,{className:"facebookLoginButton",href:"https://thisorthat-260419.appspot.com/api/login/facebook/init?redirect=https://thisorthat-260419.appspot.com/feed",startIcon:o.a.createElement(Q.a,null)},"Log in with Facebook"),o.a.createElement(D.a,{container:!0,alignItems:"center",justify:"center",className:"signupMessage"},o.a.createElement(w.a,{color:"textSecondary",className:"signupText"},"Don't have an account?"),o.a.createElement(b.b,{to:"/signup"},"Sign Up"))))))),o.a.createElement(k.a,{open:this.state.open1,onClose:this.handleClose.bind(this,1)},o.a.createElement(T.a,null,""),o.a.createElement(x.a,null,this.state.errorMessage),o.a.createElement(L.a,null,o.a.createElement(S.a,{onClick:this.handleClose.bind(this,1),color:"primary"},"Close"))))}}]),t}(n.Component)),W=a(81),J=a.n(W),H=a(21),z=a(130),G=a(80),K=a.n(G),_=a(116),Y=a.n(_),$=a(263),Z=a(19),X=a(266),ee=a(277),te=a(267),ae=a(274),ne=function(){function e(){Object(l.a)(this,e)}return Object(i.a)(e,null,[{key:"capitalise",value:function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)}}]),e}(),oe=a(63),re=a(117),se=a.n(re),le=a(118),ie=a.n(le),ce=a(120),ue=a.n(ce),me=a(119),pe=a.n(me),de=(a(71),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={saved:!1},a.save=function(e){C.a.post("https://thisorthat-260419.appspot.com/api/questions/"+a.props.parent.questionId+"/save",{headers:{},withCredentials:!0}).then((function(e){console.log("ToT saved.")})),a.setState({saved:!0}),console.log("Save")},a.unsave=function(e){C.a.post("https://thisorthat-260419.appspot.com/api/questions/"+a.props.parent.questionId+"/save",{}).then((function(e){console.log("ToT unsaved.")})),a.setState({saved:!1}),console.log("Unsave")},a.share=function(e){a.setState({open:!0}),console.log("Share")},a.facebookShare=function(e){window.FB.ui({method:"share",quote:"The most fun way make decisions",hashtag:"#thisorthat",href:"https://thisorthat-260419.appspot.com/"},(function(e){}))},a.state={selectedValue:null,open:!1,setOpen:!1},a.share=a.share.bind(Object(oe.a)(a)),a.handleClose=a.handleClose.bind(Object(oe.a)(a)),a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"componentDidMount",value:function(){this.getSavedQuestions()}},{key:"getSavedQuestions",value:function(){var e=null;try{var t={headers:{Accept:"application/json","Content-Type":"application/json"},url:"https://thisorthat-260419.appspot.com/api/users/"+this.props.parent.userId+"/saved",method:"get",data:{},withCredentials:!0};e=C()(t).then((function(e){return e})).catch((function(e){return e}))}catch(a){e=a}console.log("response is: "+e),console.log("i think I ran"),[].includes(this.props.parent.questionId)?this.setState({saved:!0}):this.setState({saved:!1})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"options"},o.a.createElement(D.a,{container:!0,direction:"column",alignItems:"center"},o.a.createElement(D.a,{item:!0}," ",!0===this.state.saved?o.a.createElement(j.a,{className:"iconButton",onClick:function(t){return e.unsave(t)}},o.a.createElement(se.a,null)):o.a.createElement(j.a,{className:"iconButton",onClick:function(t){return e.save(t)}},o.a.createElement(ie.a,null))," ")," ",o.a.createElement(D.a,{item:!0}," ",!0===this.state.saved?o.a.createElement(w.a,null," Unsave "):o.a.createElement(w.a,null," Save ")," ")," ")," ",o.a.createElement(D.a,{container:!0,direction:"column",alignItems:"center"},o.a.createElement(D.a,{item:!0},o.a.createElement(j.a,{className:"iconButton",onClick:function(e){return window.location.href="/feed"}},o.a.createElement(pe.a,{onClick:console.log("skip")})," ")," ")," ",o.a.createElement(D.a,{item:!0},o.a.createElement(w.a,null," Skip ")," ")," ")," ",o.a.createElement(D.a,{container:!0,direction:"column",alignItems:"center"},o.a.createElement(D.a,{item:!0},o.a.createElement(j.a,{className:"iconButton",onClick:function(t){return e.share(t)}},o.a.createElement(ue.a,null))," ",o.a.createElement(k.a,{open:this.state.open,onClose:this.handleClose},o.a.createElement(T.a,null," ","Share This or That"," ")," ",o.a.createElement(x.a,null,o.a.createElement(j.a,{className:"facebookIconButton"},o.a.createElement(Q.a,{onClick:function(t){return e.facebookShare(t)}})," ")," ")," ")," ")," ",o.a.createElement(D.a,{item:!0},o.a.createElement(w.a,null," Share ")," ")," ")," ")}}]),t}(n.Component)),he=a(4),ge=a(262),Ee=Object(he.a)({root:{marginTop:4,height:16,backgroundColor:"#FFF",borderRadius:2},bar:{borderRadius:0,backgroundColor:"#50E3C2"}})(ge.a),fe=Object($.a)((function(e){return{root:{flexGrow:1}}}));function be(e){var t=e.percent,a=fe();return o.a.createElement("div",{className:a.root},o.a.createElement(Ee,{className:a.margin,variant:"determinate",color:"secondary",value:t}))}var ve=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.image,a=e.handleClick,n=e.option,r=e.label,s=e.cardContainerClass,l=e.percentage;return o.a.createElement("div",{className:"options"},o.a.createElement(D.a,{container:!0,direction:"column",alignItems:"center"},o.a.createElement(D.a,{item:!0,className:s},o.a.createElement("img",{className:"image",src:t,onClick:a,alt:""})," ",o.a.createElement(D.a,{className:"cardCaptionTextContainer"},o.a.createElement(D.a,{className:"cardCaptionOptionContainer"},o.a.createElement(w.a,{className:"cardCaptionOption"}," ",ne.capitalise(n)," ")," ")," ",o.a.createElement(w.a,{className:"cardCaptionText"}," ",ne.capitalise(r)," ")," ")," ",l?o.a.createElement(D.a,{className:"resultsContainer"},o.a.createElement(be,{percent:l}),o.a.createElement(w.a,{className:"percentage",variant:"subtitle2"},l+"%")):o.a.createElement("div",null))," ")," ")}}]),t}(n.Component),Ce=a(264),Oe=(a(112),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).change=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.open=function(e){a.setState({open:!0})},a.copy=function(e){var t=document.createElement("input");document.body.appendChild(t),t.setAttribute("value",a.state.code),console.log(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.percentage,n=t.logo,r=t.terms,s=t.image,l=t.website,i=t.description,c=t.code;return o.a.createElement("div",null,o.a.createElement(I.a,{className:"voucherRoot"},o.a.createElement(D.a,{container:!0,alignItems:"center"},o.a.createElement(D.a,{item:!0},o.a.createElement("img",{className:"voucherBrandLogo",src:n,alt:"logo"})),o.a.createElement(D.a,{item:!0,justify:"center"},o.a.createElement(w.a,{variant:"h6",className:"voucherOffer"},"Get "+a+"% Off"),o.a.createElement(w.a,{className:"voucherdiscountTerms"},"Orders over \xa3"+r+" at "+l))),o.a.createElement("div",{className:"voucherLine"}),o.a.createElement(D.a,{container:!0,alignItems:"center"},o.a.createElement(D.a,{item:!0},o.a.createElement("img",{className:"voucherImage",src:s,alt:"product"})),o.a.createElement(D.a,{item:!0},o.a.createElement(D.a,{container:!0,className:"voucherOfferContainer"},o.a.createElement(D.a,{item:!0},o.a.createElement(w.a,{className:"voucherDescription"},i)),o.a.createElement(D.a,{item:!0},o.a.createElement(Ce.a,{size:"small"},o.a.createElement(S.a,{className:"voucherCodeButton",disableRipple:!0,disableFocusRipple:!0,onClick:function(t){return e.copy(t)}},o.a.createElement(w.a,{variant:"h5"},c)),o.a.createElement(S.a,{onClick:function(t){return e.copy(t)}},"Copy")),o.a.createElement(S.a,{color:"primary"})))))))}}]),t}(n.Component)),Se=(a(200),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={questionState:{questionId:""},title:"",image1:null,image2:null,text1:"",text2:"",url1:"",url2:"",isSponsored:!1,percentage:"",logo:"",terms:"",image:"",website:"",description:"",code:"",option1Votes:8,option2Votes:5,totalVotes:13},a.updateQuestionState=function(){var e=a.props.getQuestionState();console.log("Question state comes here:"),console.log(e),console.log("Question state comes here:"),a.setState({questionState:e},(function(){console.log(a.state.questionState),a.getQuestionDetails(a.state.questionState.questionId)}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.updateQuestionState()}},{key:"getQuestionDetails",value:function(e){var t=this;C.a.get("https://thisorthat-260419.appspot.com/api/questions/"+e,{withCredentials:!0}).then((function(e){t.setState({isSponsored:e.data.isSponsored,title:e.data.questionText,text1:e.data.option1.text,text2:e.data.option2.text,option1Votes:parseFloat(e.data.option1.numberOfVotes),option2Votes:parseFloat(e.data.option2.numberOfVotes),totalVotes:parseFloat(parseFloat(e.data.option1.numberOfVotes)+parseFloat(e.data.option2.numberOfVotes))}),!0===t.state.isSponsored&&t.setState({percentage:e.data.sponsoredData.percentage,logo:e.data.sponsoredData.logo,terms:e.data.sponsoredData.terms,image:e.data.sponsoredData.image,website:e.data.sponsoredData.website,description:e.data.sponsoredData.description,code:e.data.sponsoredData.code}),e.data.option1.imageURL&&t.setState({url1:e.data.option1.imageURL}),e.data.option2.imageURL&&t.setState({url2:e.data.option2.imageURL}),console.log("question details:"),console.log(e.data)})).catch((function(e){console.log("No reponse: "+e)}))}},{key:"render",value:function(){var e=this,t=0,a=0;return 0!==this.state.totalVotes&&(t=(this.state.option1Votes/this.state.totalVotes*100).toFixed(0),a=(100*(1-this.state.option1Votes/this.state.totalVotes)).toFixed(0)),o.a.createElement("div",{className:"question"},o.a.createElement(I.a,{className:"card imageAndTextCard"},o.a.createElement(y.a,{title:ne.capitalise(this.state.title)})," ",!0===this.state.isSponsored?o.a.createElement(D.a,{container:!0,justify:"center"},o.a.createElement(w.a,{className:"sponsorTag"},"Sponsored")):o.a.createElement("div",null),o.a.createElement("div",{className:"row"}," ")," ",o.a.createElement("br",null),o.a.createElement("div",{className:"options"},o.a.createElement(ve,{cardContainerClass:"cardContainerLeft",image:this.state.url1,handleClick:function(t){return e.incrementChoice1(t)},option:"A",label:this.state.text1,percentage:t})," ",o.a.createElement(ve,{cardContainerClass:"cardContainer",image:this.state.url2,handleClick:this.incrementChoice2,option:"B",label:this.state.text2,percentage:a})," ")," ",o.a.createElement(D.a,{className:"cardCaptionVotes"},o.a.createElement(w.a,{variant:"caption"}," ",this.state.totalVotes,"votes"," ")," ")," ")," ",o.a.createElement("br",null),!0===this.state.isSponsored?o.a.createElement(Oe,{percentage:this.state.percentage,logo:this.state.logo,terms:this.state.terms,image:this.state.image,website:this.state.website,description:this.state.description,code:this.state.code}):o.a.createElement("div",null),o.a.createElement(de,{parent:this.state})," ",o.a.createElement("br",null))}}]),t}(n.Component)),Ie=a(265),ye=a(123),we=a.n(ye),Ne=(a(201),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.option1,n=e.option2,r=e.votes1,s=e.votes2,l=e.image1,i=e.image2,c=e.totalVotes,u=0,m=0;return 0!==c&&(u=(r/s*100).toFixed(0),m=(100*(1-r/s)).toFixed(0)),o.a.createElement("div",{className:"question"},o.a.createElement(I.a,{className:"card imageAndTextCard"},o.a.createElement(y.a,{title:ne.capitalise(t)})," ",o.a.createElement("div",{className:"row"}," ")," ",o.a.createElement("br",null),o.a.createElement("div",{className:"options"},o.a.createElement(ve,{cardContainerClass:"cardContainerLeft",image:l,option:"A",label:a,percentage:u})," ",o.a.createElement(ve,{cardContainerClass:"cardContainer",image:i,option:"B",label:n,percentage:m})," ")," ",o.a.createElement(D.a,{className:"cardCaptionVotes"},o.a.createElement(w.a,{variant:"caption"}," ",c,"votes"," ")," ")," ")," ",o.a.createElement("br",null))}}]),t}(n.Component));a(202);function je(e){var t=e.children,a=e.value,n=e.index,r=Object(z.a)(e,["children","value","index"]);return o.a.createElement(w.a,Object.assign({component:"div",role:"tabpanel",hidden:a!==n,"aria-labelledby":"full-width-tab-".concat(n)},r),a===n&&o.a.createElement(ae.a,{p:2},t))}function Ue(e){return{id:"full-width-tab-".concat(e),"aria-controls":"full-width-tabpanel-".concat(e)}}var ke=Object($.a)((function(e){return{root:{backgroundColor:"rgba(0, 0, 0, 0.001)",width:500}}}));function Le(e){var t=ke(),a=Object(Z.a)(),r=Object(n.useState)(0),s=Object(H.a)(r,2),l=s[0],i=s[1],c=Object(n.useState)([]),u=Object(H.a)(c,2),m=u[0],p=u[1],d=Object(n.useState)([]),h=Object(H.a)(d,2),g=(h[0],h[1]),E=Object(n.useState)(0),f=Object(H.a)(E,2),b=(f[0],f[1],Object(n.useState)(!1)),v=Object(H.a)(b,2),I=v[0],y=v[1],N=Object(n.useState)(""),U=Object(H.a)(N,2),q=U[0],P=U[1],B=Object(n.useState)(""),A=Object(H.a)(B,2),F=A[0],V=A[1],R=Object(n.useState)("Profile"),Q=Object(H.a)(R,2),M=Q[0],W=Q[1],z=Object(n.useState)("https://image.flaticon.com/icons/svg/1738/1738760.svg"),G=Object(H.a)(z,2),_=G[0],$=G[1],ae=Object(n.useState)(localStorage.getItem("userId")),ne=Object(H.a)(ae,2),oe=(ne[0],ne[1],Object(n.useState)([])),re=Object(H.a)(oe,2),se=(re[0],re[1]),le=function(e,t){i(t)};Object(n.useEffect)((function(){ce(),ue(),ie()}),[]);var ie=function(){return J.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:C()({method:"get",url:"https://thisorthat-260419.appspot.com/api/me",withCredentials:!0}).then((function(e){console.log(e),se(e.data),V(e.data.name)}));case 1:case"end":return e.stop()}}))},ce=function(){return J.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("https://thisorthat-260419.appspot.com/api/created"),C()({method:"get",url:"https://thisorthat-260419.appspot.com/api/created",withCredentials:!0}).then((function(e){console.log(e),e.data.length>=1?p(e.data):p([])}));case 2:case"end":return e.stop()}}))},ue=function(){return J.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("https://thisorthat-260419.appspot.com/api/saved"),C()({method:"get",url:"https://thisorthat-260419.appspot.com/api/saved",withCredentials:!0}).then((function(e){console.log(e),e.data.length>=1?g(e.data):g([])}));case 2:case"end":return e.stop()}}))};return o.a.createElement("div",{className:"profilePage"},o.a.createElement(D.a,{container:!0,alignContent:"space-between",className:"profileCard",direction:"row"},o.a.createElement(D.a,{item:!0,justify:"center"},o.a.createElement(D.a,{container:!0},o.a.createElement(Ie.a,null,o.a.createElement(K.a,null)),o.a.createElement(w.a,{className:"profileName"},F))),o.a.createElement(D.a,{item:!0},o.a.createElement(j.a,{secondary:!0,className:"editpProfileButton",onClick:function(e){y(!0)}},o.a.createElement(we.a,null)))),o.a.createElement("br",null),o.a.createElement("div",{className:t.root},o.a.createElement(X.a,{position:"static",color:"default"},o.a.createElement(ee.a,{value:l,onChange:le,indicatorColor:"primary",textColor:"primary",variant:"fullWidth"},o.a.createElement(te.a,Object.assign({label:"Your ToTs"},Ue(0))),o.a.createElement(te.a,Object.assign({label:"Saved"},Ue(1))))),o.a.createElement(Y.a,{axis:"rtl"===a.direction?"x-reverse":"x",index:l,onChangeIndex:function(e){i(e)}},o.a.createElement(je,{value:l,index:0,dir:a.direction},o.a.createElement("ul",{className:"listOfMyToTs"},m.map((function(e){return o.a.createElement(Ne,{title:e.questionText,option1:e.option1.text,option2:e.option2.text,image1:e.option1.imageURL,image2:e.option2.imageURL,votes1:e.option1.numberOfVotes,votes2:e.option2.numberOfVotes,totalVotes:e.option1.numberOfVotes+e.option2.numberOfVotes})})))),o.a.createElement(je,{value:l,index:1,dir:a.direction},o.a.createElement(Ne,{title:"Location",option1:"Fordham",option2:"NewJersey",votes1:"1",votes2:"1",totalVotes:"2"}),o.a.createElement("ul",{className:"listOfSavedToTs"})))),o.a.createElement(k.a,{open:I,onClose:le,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(T.a,null,"Update Profile"),o.a.createElement(x.a,null,o.a.createElement(w.a,null,"Profile Picture"),o.a.createElement("br",null),o.a.createElement(O.a,{name:"url",label:"Image URL",variant:"outlined",className:"",value:q,fullWidth:!0,onChange:function(e){return function(e){P(e.target.value)}(e)}}),o.a.createElement("img",{className:"editProfileImage",src:q,alt:"Preview"}),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(w.a,null,"Profile Name"),o.a.createElement("br",null),o.a.createElement(O.a,{name:"name",label:"Profle Name",variant:"outlined",className:"",value:F,fullWidth:!0,onChange:function(e){return function(e){V(e.target.value)}(e)}})),o.a.createElement(L.a,null,o.a.createElement(S.a,{onClick:function(e){return V(M),P(_),void y(!1)},color:"secondary"},"Cancel"),o.a.createElement(S.a,{onClick:function(e){return W(F),$(q),void y(!1)},color:"primary"},"Save"))))}a(203);var xe=a(268),Te=a(124),qe=a.n(Te),Pe=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"holder"},o.a.createElement(I.a,{className:"submit",raised:!0},o.a.createElement(y.a,{avatar:o.a.createElement(qe.a,null),title:"ToT Submitted"}),o.a.createElement(xe.a,null,"After a short review, we'll post your ToT publicly.")))}}]),t}(n.Component),Be=a(49),Ae=a(269),Fe=a(129),Ve=a(126),De=a.n(Ve),Re=a(281),Qe=a(125),Me=a.n(Qe),We=(a(204),Object($.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(f.a)({display:"block"},e.breakpoints.up("sm"),{display:"block"}),sectionDesktop:Object(f.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(f.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}})));function Je(e){var t,a=e.isLoggedIn,n=e.changeIsLoggedIn,r=We(),s=o.a.useState(!0),l=Object(H.a)(s,2),i=(l[0],l[1],o.a.useState(null)),c=Object(H.a)(i,2),u=c[0],m=c[1],p=Boolean(u),d=function(){m(null)},h=o.a.useState(null),g=Object(H.a)(h,2),E=g[0],f=g[1],b=Boolean(E),v=o.a.createElement(Fe.a,{anchorEl:E,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:b,onClose:function(){f(null)}});return!0===a&&(t=o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"headerButtonContainer headerVertLine"},o.a.createElement(S.a,{className:"headerButton leftHeaderButton",onClick:function(){window.location.href="/feed"}},"Feed"),o.a.createElement(S.a,{className:"headerButton",onClick:function(){window.location.href="/creator"}},"Create")),o.a.createElement("div",{className:r.grow}),o.a.createElement("div",{className:r.sectionDesktop},o.a.createElement(j.a,{color:"inherit","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",onClick:function(e){m(e.currentTarget)}},o.a.createElement(K.a,null))),o.a.createElement("div",{className:r.sectionMobile},o.a.createElement(j.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){f(e.currentTarget)},color:"inherit"},o.a.createElement(De.a,null)),o.a.createElement(Fe.a,{anchorEl:u,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:p,onClose:d},o.a.createElement(Re.a,{onClick:function(){d(),window.location.href="/profile"}},"My profile"),o.a.createElement(Re.a,{onClick:function(){d(),n(!1),window.location.href="/login"}},"Log out"))))),o.a.createElement("div",{className:r.grow},o.a.createElement(X.a,{className:"AppBar",position:"static"},o.a.createElement(Ae.a,{disableGutters:!0,variant:"dense"},o.a.createElement(S.a,{className:"headerButton headerTitle",onClick:function(){window.location.href="/feed"}},o.a.createElement("img",{alt:"this or that logo",className:"headerLogo",src:Me.a}),"This or That"),t)),v)}var He=a(127),ze=a.n(He),Ge=a(270),Ke=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).incrementChoice1=function(e){C.a.post("https://thisorthat-260419.appspot.com/api/questions/"+a.props.parent.questionId+"/"+a.props.parent.userId,{selectedOption:1}).then((function(e){window.location.href="/profiletot"}))},a.incrementChoice2=function(e){C.a.post("https://thisorthat-260419.appspot.com/api/questions/"+a.props.parent.questionId+"/"+a.props.parent.userId,{selectedOption:2}).then((function(e){window.location.href="/profiletot"}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"question"},o.a.createElement(I.a,{className:"card imageAndTextCard"},o.a.createElement(y.a,{title:ne.capitalise(this.props.parent.title)})," ",!0===this.props.parent.isSponsored?o.a.createElement(D.a,{container:!0,justify:"center"},o.a.createElement(w.a,{className:"sponsorTag"},"Sponsored")):o.a.createElement("div",null),o.a.createElement("div",{className:"row"}," ")," ",o.a.createElement("br",null),o.a.createElement("div",{className:"options"},o.a.createElement(ve,{cardContainerClass:"cardContainerButtonLeft",image:this.props.parent.url1,handleClick:function(t){return e.incrementChoice1(t)},option:"A",label:this.props.parent.text1})," ",o.a.createElement(ve,{cardContainerClass:"cardContainerButton",image:this.props.parent.url2,handleClick:this.incrementChoice2,option:"B",label:this.props.parent.text2})," ")," ",o.a.createElement(D.a,{className:"cardCaptionVotes"},o.a.createElement(w.a,{variant:"caption"}," ",this.props.parent.numberOfVotes,"votes"," ")," ")," ")," ")}}]),t}(n.Component),_e=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={userId:"...",questionId:"",title:"...",text1:"...",text2:"...",url1:"",url2:"",numberOfVotes:0,seconds:10,group:!0},a.updateStateFromAPICall=function(){var e=a.props.getUserId();null===e&&(e="5e0e5e2c865c4946ea9a2dcf"),console.log("but we actually use: "+e),a.setState({userId:e},(function(){C.a.get("https://thisorthat-260419.appspot.com/api/users/"+a.state.userId+"/feed",{headers:{}}).then((function(e){console.log("response on next line"),console.log(e.data),console.log(e.data.id),console.log("response on previous line"),a.setState({questionId:e.data.id,title:e.data.questionText,text1:e.data.option1.text,text2:e.data.option2.text,numberOfVotes:e.data.option1.numberOfVotes+e.data.option2.numberOfVotes},(function(){this.props.setQuestionState(this.state)})),e.data.option1.imageURL&&a.setState({url1:e.data.option1.imageURL}),e.data.option2.imageURL&&a.setState({url2:e.data.option2.imageURL}),console.log("at least we tried")})).catch((function(e){console.log("No reponse: "+e)}))}))},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=this;ze.a.get("session");C.a.get("https://thisorthat-260419.appspot.com/api/me",{headers:{},withCredentials:!0}).then((function(t){e.props.changeIsLoggedIn(!0),console.log("response:"),console.log(t);var a=t.data.id;console.log("The userId is: "+a),e.props.setUserId(a)})).catch((function(e){window.location.href="/login",console.log("And the error was: "+e)}))}},{key:"componentDidMount",value:function(){var e=this;this.myInterval=setInterval((function(){var t=e.state.seconds;t>0&&e.setState((function(e){return{seconds:e.seconds-1}})),0===t&&(clearInterval(e.myInterval),window.location.href="/profiletot")}),1e3),this.updateStateFromAPICall()}},{key:"componentWillUnmount",value:function(){clearInterval(this.myInterval)}},{key:"render",value:function(){return!1===this.state.group?o.a.createElement("div",{className:"question"},o.a.createElement(Ke,null),o.a.createElement("br",null)," ",o.a.createElement("br",null),o.a.createElement("div",{className:"timer"},o.a.createElement(w.a,null," ",this.state.seconds," ")," ")," ",o.a.createElement("br",null),o.a.createElement(de,null)):o.a.createElement("div",null,o.a.createElement("div",{className:"question"},o.a.createElement(Ke,{parent:this.state})," ",o.a.createElement("br",null)," ",o.a.createElement("br",null),o.a.createElement(D.a,{container:!0,direction:"row",alignItems:"center",justify:"center",className:"timer"},o.a.createElement(D.a,{item:!0},o.a.createElement(w.a,null," ",this.state.seconds," ")," ")," ",o.a.createElement(D.a,{item:!0,className:"circularProgressWrapper"},o.a.createElement(Ge.a,{size:36,className:"circularProgress"}))," ")," ",o.a.createElement("br",null),o.a.createElement(de,{parent:this.state})," ",o.a.createElement("br",null)," ")," ")}}]),t}(n.Component),Ye=a(90),$e=a.n(Ye),Ze=a(271),Xe=a(272),et=(a(205),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={title:"",text1:"",text2:"",unsplashUrl1:"",unsplashUrl2:"",isSponsored:!1,image1:null,image2:null,searchString:"",results:[],image1Url:"",image2Url:"",urlOption1:"https://images.unsplash.com/photo-1560363199-a1264d4ea5fc?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1534&q=80",urlOption2:"https://images.unsplash.com/photo-1570871303513-6faf999850fe?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=375&q=80",urlOption3:"https://images.unsplash.com/photo-1572324755260-ec8c3e7fae29?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=237&q=80",urlOption4:"https://images.unsplash.com/photo-1518823526-0df532eb95a8?ixlib=rb-1.2.1&auto=format&fit=crop&w=667&q=80",open1:!1,open2:!1},a.onChange=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.submit=function(e){console.log("right before"),console.log(a.state.image1Name),a.state.text1!==a.state.image1Name&&(document.getElementById("image1Uploader").value=""),a.state.text2!==a.state.image2Name&&(document.getElementById("image2Uploader").value="");var t=new FormData;t.append("title",a.state.title),t.append("text1",a.state.text1),t.append("text2",a.state.text2),null!==a.state.image1?t.append("image1",a.state.image1,a.state.image1.name):""!==a.state.unsplashUrl1&&t.append("unsplashUrl1",a.state.unsplashUrl1),null!==a.state.image2?t.append("image2",a.state.image2,a.state.image2.name):""!==a.state.unsplashUrl2&&t.append("unsplashUrl2",a.state.unsplashUrl2);var n={text:a.state.text1};""!==a.state.unsplashUrl1&&(n.imageURL=a.state.unsplashUrl1);var o={text:a.state.text2};""!==a.state.unsplashUrl2&&(o.imageURL=a.state.unsplashUrl2),"5e1297ca9f463f4ca9b7bc89"==localStorage.getItem("userId")&&a.setState({isSponsored:!0});try{C()({method:"post",url:"https://thisorthat-260419.appspot.com/api/questions",data:{questionText:a.state.title,option1:n,option2:o,userID:a.props.userId,isSponsored:a.state.isSponsored},headers:{},withCredentials:!0}).then((function(e){console.log(e),console.log("ToT posted."),1==a.state.isSponsored?window.location.href="/voucher":window.location.href="/totsubmit"}))}catch(e){alert("Something went wrong!"),window.location.href="/totsubmit"}},a.handleClickOpen=function(e){console.log(e),1===e?a.setState({open1:!0}):a.setState({open2:!0})},a.handleClose=function(e){console.log(e),1===e?a.setState({open1:!1}):a.setState({open2:!1})},a.search=function(){console.log("you searched for >"+a.state.searchString+"<");var e="https://api.unsplash.com/search/photos?page=1&query="+a.state.searchString;console.log("url: >"+e+"<"),fetch(e,{method:"GET",headers:{Accept:"application/json, text/plain, */*","Content-type":"application/json",Authorization:"Bearer 8b227e84043e03edfc04b0314134dd779c95415f5ca8a8564fb3a9f23174587c"}}).then((function(e){return a.processResponse(e)}))},a.processResponse=function(e){200===e.status&&e.json().then((function(e){a.setState({results:e.results,urlOption1:e.results[0].urls.small,urlOption2:e.results[1].urls.small,urlOption3:e.results[2].urls.small,urlOption4:e.results[3].urls.small})}))},a.searchTextFieldKeyPressed=function(e){13===e.keyCode&&a.search()},a.selectUnsplashUrl1=function(e){console.log("urlToSet: >"+e+"<"),a.setState({unsplashUrl1:e,image1Url:e,image1:null},(function(){console.log("unsplashUrl1: >"+this.state.unsplashUrl1+"<"),console.log(this.state.urlOption1),console.log(this.state.urlOption2),console.log(this.state.urlOption3),console.log(this.state.urlOption4),this.handleClose(1)}))},a.selectUnsplashUrl2=function(e){console.log("urlToSet: >"+e+"<"),a.setState({unsplashUrl2:e,image2Url:e,image2:null},(function(){console.log("unsplashUrl2: >"+this.state.unsplashUrl2+"<"),console.log(this.state.urlOption1),console.log(this.state.urlOption2),console.log(this.state.urlOption3),console.log(this.state.urlOption4),this.handleClose(2)}))},a.image1SelectedHandler=function(e){console.log("image1: "+e.target.files[0]),a.setState({image1Url:URL.createObjectURL(e.target.files[0]),image1:e.target.files[0],unsplashUrl1:""})},a.image2SelectedHandler=function(e){console.log("image2:"+e.target.files[0]),a.setState({image2Url:URL.createObjectURL(e.target.files[0]),image2:e.target.files[0],unsplashUrl2:""})},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"wrapper"},o.a.createElement(I.a,{className:"loginCard creatorCard",raised:!0},o.a.createElement("div",null,o.a.createElement(y.a,{title:"Create a ToT",className:"creatorCardTitle"}),o.a.createElement("br",null),o.a.createElement(O.a,{className:"questionTitle",label:"Title",variant:"outlined",name:"title",value:this.state.title,onChange:function(t){return e.onChange(t)}}),o.a.createElement("br",null),o.a.createElement(O.a,{className:"questionTitle",label:"Option 1",variant:"outlined",name:"text1",value:this.state.text1,onChange:function(t){return e.onChange(t)},InputProps:{endAdornment:o.a.createElement(U.a,{position:"end"},o.a.createElement("input",{name:"image1",onChange:this.image1SelectedHandler,accept:"image/*",className:"fileInput",id:"image1Uploader",type:"file"}),o.a.createElement("label",null,o.a.createElement(N.a,{title:"Select image from Unsplash"},o.a.createElement(j.a,{"aria-label":"select image from unsplash",component:"span",onClick:this.handleClickOpen.bind(this,1)},o.a.createElement($e.a,{className:"creatorIcon"})))),o.a.createElement(k.a,{open:this.state.open1,onClose:this.handleClose.bind(this,1)},o.a.createElement(T.a,null,"This: Search for an image on Unsplash"),o.a.createElement(x.a,null,o.a.createElement(O.a,{name:"searchString",variant:"outlined",value:this.state.searchString,onChange:function(t){return e.onChange(t)},id:"standard-basic",label:"Type here",onKeyDown:this.searchTextFieldKeyPressed}),o.a.createElement(S.a,{className:"creatorSecondaryButton",onClick:this.search,color:"secondary"},"Search"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(Ze.a,{id:"gridList1"},o.a.createElement(Xe.a,null,o.a.createElement("img",{onClick:this.selectUnsplashUrl1.bind(this,this.state.urlOption1),src:this.state.urlOption1,alt:"imageOption1"})),o.a.createElement(Xe.a,null,o.a.createElement("img",{onClick:this.selectUnsplashUrl1.bind(this,this.state.urlOption2),src:this.state.urlOption2,alt:"imageOption2"})),o.a.createElement(Xe.a,null,o.a.createElement("img",{onClick:this.selectUnsplashUrl1.bind(this,this.state.urlOption3),src:this.state.urlOption3,alt:"imageOption3"})),o.a.createElement(Xe.a,null,o.a.createElement("img",{onClick:this.selectUnsplashUrl1.bind(this,this.state.urlOption4),src:this.state.urlOption4,alt:"imageOption4"})))),o.a.createElement(L.a,null,o.a.createElement(S.a,{className:"creatorSecondaryButton",onClick:this.handleClose.bind(this,1),color:"secondary"},"Close"))))}}),o.a.createElement("br",null),o.a.createElement(D.a,{className:"creatorImageContainer"},o.a.createElement("img",{className:"creatorImage",src:this.state.image1Url,alt:""})),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(O.a,{className:"questionTitle",label:"Option 2",variant:"outlined",name:"text2",value:this.state.text2,onChange:function(t){return e.onChange(t)},InputProps:{endAdornment:o.a.createElement(U.a,{position:"end"},o.a.createElement("input",{name:"image2",onChange:this.image2SelectedHandler,accept:"image/*",className:"fileInput",id:"image2Uploader",type:"file"}),o.a.createElement(N.a,{title:"Select image from Unsplash"},o.a.createElement(j.a,{"aria-label":"select image from unsplash",component:"span",onClick:this.handleClickOpen.bind(this,2)},o.a.createElement($e.a,{className:"creatorIcon"}))),o.a.createElement(k.a,{open:this.state.open2,onClose:this.handleClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},o.a.createElement(T.a,{id:"alert-dialog-title"},"That: Search for an image on Unsplash"),o.a.createElement(x.a,null,o.a.createElement(O.a,{name:"searchString",variant:"outlined",value:this.state.searchString,onChange:function(t){return e.onChange(t)},id:"standard-basic",label:"Type here",onKeyDown:this.searchTextFieldKeyPressed}),o.a.createElement(S.a,{className:"creatorSecondaryButton",onClick:this.search,color:"secondary"},"Search"),o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement(Ze.a,{id:"gridList2"},o.a.createElement(Xe.a,null,o.a.createElement("img",{onClick:this.selectUnsplashUrl2.bind(this,this.state.urlOption1),src:this.state.urlOption1,alt:"imageOption1"})),o.a.createElement(Xe.a,null,o.a.createElement("img",{onClick:this.selectUnsplashUrl2.bind(this,this.state.urlOption2),src:this.state.urlOption2,alt:"imageOption2"})),o.a.createElement(Xe.a,null,o.a.createElement("img",{onClick:this.selectUnsplashUrl2.bind(this,this.state.urlOption3),src:this.state.urlOption3,alt:"imageOption3"})),o.a.createElement(Xe.a,null,o.a.createElement("img",{onClick:this.selectUnsplashUrl2.bind(this,this.state.urlOption4),src:this.state.urlOption4,alt:"imageOption4"})))),o.a.createElement(L.a,null,o.a.createElement(S.a,{className:"creatorSecondaryButton",color:"secondary",onClick:this.handleClose.bind(this,2)},"Close"))))}}),o.a.createElement(D.a,{className:"creatorImageContainer"},o.a.createElement("img",{className:"creatorImage",src:this.state.image2Url,alt:""})),o.a.createElement("br",null),o.a.createElement(S.a,{className:"creatorPrimaryButton",onClick:this.submit,value:"Submit",variant:"contained",color:"primary"},"Submit"))))}}]),t}(n.Component)),tt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={percentage:"15",logo:"https://bit.ly/2s0n8GF",terms:"30",image:"https://images.unsplash.com/photo-1541099649105-f69ad21f3246?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=668&q=80",website:"www.ae.co.uk",description:"Copy your voucher code to get 15% off your next pair of ripped jeans.",code:"15OFF",open:!0,pay:"Pay and Publish"},a.change=function(e){a.setState(Object(f.a)({},e.target.name,e.target.value))},a.open=function(e){a.setState({open:!0})},a.copy=function(e){var t=document.createElement("input");document.body.appendChild(t),t.setAttribute("value",a.state.code),console.log(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{class:"row"},o.a.createElement("div",{class:"column"},o.a.createElement(D.a,{container:!0},o.a.createElement(I.a,{className:"voucher",raised:!0},o.a.createElement(y.a,{title:"Create Voucher"}),o.a.createElement(D.a,{container:!0},o.a.createElement(D.a,{item:!0,className:"percenage"},o.a.createElement(O.a,{label:"Discount Percentage (%)",variant:"outlined",name:"percentage",value:this.state.percentage,onChange:function(t){return e.change(t)}})),o.a.createElement(D.a,{item:!0},o.a.createElement(O.a,{label:"Discount Terms ()",variant:"outlined",name:"terms",value:this.state.terms,onChange:function(t){return e.change(t)}}))),o.a.createElement(D.a,{container:!0},o.a.createElement(D.a,{item:!0,className:"percenage"},o.a.createElement(O.a,{label:"Image URL",variant:"outlined",name:"image",value:this.state.image,onChange:function(t){return e.change(t)}})),o.a.createElement(O.a,{label:"Website URL",variant:"outlined",name:"website",value:this.state.website,onChange:function(t){return e.change(t)}})),o.a.createElement(D.a,{container:!0},o.a.createElement(D.a,{item:!0,className:"percenage"},o.a.createElement(O.a,{label:"Description",variant:"outlined",name:"description",value:this.state.description,onChange:function(t){return e.change(t)}})),o.a.createElement(O.a,{className:"code",label:"Code",variant:"outlined",name:"code",value:this.state.code,onChange:function(t){return e.change(t)}})),o.a.createElement(S.a,{color:"primary",onClick:function(t){return e.open(t)}},this.state.pay)))),o.a.createElement("div",{class:"column"},o.a.createElement(Oe,{percentage:this.state.percentage,logo:this.state.logo,terms:this.state.terms,image:this.state.image,website:this.state.website,description:this.state.description,code:this.state.code})))}}]),t}(n.Component),at=Object(p.a)({palette:{primary:{main:"#60308b",light:"#E8EEF8",dark:"#0c90e1"},secondary:{main:"#657786",light:"#E8EEF8",dark:"#2653A6"}}}),nt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={isLoggedIn:!1,userId:"",questionState:{userId:"...",questionId:"",title:"...",text1:"...",text2:"...",url1:"",url2:"",isSponsored:!1,numberOfVotes:0,seconds:10,group:!0,sponsoredData:{logoURL:"",percentageDiscount:"",discountTerms:"",imageURL:"",voucherCode:"",description:""}}},a.saveToLocalStorage=function(){try{E.a.set("isLoggedIn",JSON.stringify(a.state.isLoggedIn)),E.a.set("userId",JSON.stringify(a.state.userId)),E.a.set("questionState",JSON.stringify(a.state.questionState))}catch(e){}},a.loadFromLocalStorage=function(){try{var e=JSON.parse(E.a.get("isLoggedIn"));a.setState({isLoggedIn:e});var t=JSON.parse(E.a.get("userId"));a.setState({userId:t});var n=JSON.parse(E.a.get("questionState"));a.setState({questionState:n})}catch(o){}},a.setUserId=function(e){a.setState({userId:e},(function(){this.saveToLocalStorage(),console.log("The user id got set to: "+e)}))},a.getUserId=function(){return a.state.userId},a.changeIsLoggedIn=function(e){a.setState({isLoggedIn:e},(function(){this.saveToLocalStorage(),console.log("This got called: "+this.state.isLoggedIn)}))},a.getIsLoggedIn=function(){return a.state.isLoggedIn},a.setQuestionState=function(e){a.setState({questionState:e},(function(){console.log("questionState has been set"),console.log(a.state.questionState),a.saveToLocalStorage()}))},a.getQuestionState=function(){return console.log("question set has been retrieved"),console.log(a.state.questionState),console.log("question set has been retrieved"),a.state.questionState},a.UNSAFE_componentWillMount=function(){a.loadFromLocalStorage()},a.UNSAFE_componentWillUnmount=function(){a.saveToLocalStorage()},a.UNSAFE_componentWillUpdate=function(){a.saveToLocalStorage()},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement(d.a,{theme:at},o.a.createElement(h.b,{injectFirst:!0},o.a.createElement(b.a,null,o.a.createElement("div",null,o.a.createElement(Je,{isLoggedIn:this.state.isLoggedIn,changeIsLoggedIn:this.changeIsLoggedIn})," ",o.a.createElement("div",{className:"screen"},o.a.createElement("div",{className:"background"}," ",o.a.createElement(Be.d,null,o.a.createElement(Be.b,{path:"/login",render:function(t){return e.state.isLoggedIn?o.a.createElement(Be.a,{to:"/feed"}):o.a.createElement(M,{changeIsLoggedIn:e.changeIsLoggedIn})}})," ",o.a.createElement(Be.b,{path:"/signup",render:function(t){return e.state.isLoggedIn?o.a.createElement(Be.a,{to:"/feed"}):o.a.createElement(V,null)}})," ",o.a.createElement(Be.b,{path:"/feed",render:function(t){return e.state.isLoggedIn,o.a.createElement(_e,{setUserId:e.setUserId,getUserId:e.getUserId,getIsLoggedIn:e.getIsLoggedIn,changeIsLoggedIn:e.changeIsLoggedIn,userId:e.state.userId,setQuestionState:e.setQuestionState})}})," ",o.a.createElement(Be.b,{path:"/creator",render:function(t){return e.state.isLoggedIn?o.a.createElement(et,{userId:e.state.userId}):o.a.createElement(Be.a,{to:"/login"})}})," ",o.a.createElement(Be.b,{path:"/profile",render:function(t){return e.state.isLoggedIn?o.a.createElement(Le,{getQuestionState:e.getQuestionState}):o.a.createElement(Be.a,{to:"/login"})}})," ",o.a.createElement(Be.b,{path:"/question",render:function(t){return e.state.isLoggedIn?o.a.createElement(_e,{setUserId:e.setUserId,getUserId:e.getUserId,getIsLoggedIn:e.getIsLoggedIn,changeIsLoggedIn:e.changeIsLoggedIn,userId:e.state.userId,setQuestionState:e.setQuestionState}):o.a.createElement(Be.a,{to:"/login"})}})," ",o.a.createElement(Be.b,{path:"/totsubmit",render:function(t){return e.state.isLoggedIn?o.a.createElement(Pe,null):o.a.createElement(Be.a,{to:"/login"})}})," ",o.a.createElement(Be.b,{path:"/voucher",render:function(t){return e.state.isLoggedIn?o.a.createElement(tt,null):o.a.createElement(Be.a,{to:"/login"})}})," ",o.a.createElement(Be.b,{path:"/profiletot",render:function(t){return e.state.isLoggedIn?o.a.createElement(Se,{getQuestionState:e.getQuestionState}):o.a.createElement(Be.a,{to:"/login"})}})," ",o.a.createElement(Be.b,{path:"*",render:function(t){return e.state.isLoggedIn?o.a.createElement(_e,{setUserId:e.setUserId,getUserId:e.getUserId,getIsLoggedIn:e.getIsLoggedIn,changeIsLoggedIn:e.changeIsLoggedIn,userId:e.state.userId,setQuestionState:e.setQuestionState}):o.a.createElement(Be.a,{to:"/login"})}})," ")," ")," ")," ")," ")," ")," ")}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(nt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},71:function(e,t,a){},97:function(e,t,a){}},[[146,1,2]]]);
//# sourceMappingURL=main.6eed5b8a.chunk.js.map